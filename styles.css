/* ===== Paleta & tokens (azules/celestes elegantes) ===== */
:root {
    --bg: #0a1020;
    /* fondo profundo azul */
    --surface: #0f162a;
    /* panel superior */
    --surface-2: #0c1324;
    /* panel inferior */
    --ink: #e8edf6;
    /* texto principal blanco suave */
    --muted: #a9b4c6;
    /* texto secundario */
    --line: #1a2540;
    /* borde sutil */

    --accent: #ffffff;
    /* blanco para botón primario */
    --accent-2: #60a5fa;
    /* azul cielo p/hover/acento */
    --focus: #22d3ee;
    /* celeste (focus inputs) */

    --success: #22c55e;
    --warn: #3b82f6;
    /* azul para filas repetidas */
    --error: #ef4444;
    /* rojo error */

    --radius: 6px;
    --shadow: 0 10px 30px rgba(0, 0, 0, .30);
    --shadow-soft: 0 6px 18px rgba(0, 0, 0, .22);
}

/* ===== Base ===== */
* {
    box-sizing: border-box
}

html,
body {
    height: 100%
}

body {
    margin: 0;
    background:
        radial-gradient(1100px 520px at 12% -8%, #112247 0%, transparent 48%),
        linear-gradient(120deg, #091228, var(--bg) 55%, #0b1530 100%);
    color: var(--ink);
    font: 400 16px/1.5 system-ui, Segoe UI, Roboto, Helvetica, Arial;
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 18px;
}

/* ===== Contenedores ===== */
.app {
    max-width: 1200px;
    width: 100%;
    margin: 0 auto;
    display: grid;
    gap: 18px
}

.panel {
    background: linear-gradient(180deg, var(--surface), var(--surface-2));
    border: 1px solid var(--line);
    border-radius: var(--radius);
    padding: 18px 20px;
    box-shadow: var(--shadow-soft);
    transition: box-shadow .18s ease, border-color .18s ease, transform .18s ease;
}

.panel:hover {
    box-shadow: var(--shadow);
    border-color: #25345a;
    transform: translateY(-1px);
}

h1 {
    margin: 0;
    letter-spacing: .2px;
    font-size: clamp(22px, 3vw, 28px)
}

.panel-title {
    margin: 0 0 10px;
    font-size: 18px
}

/* ===== Form ===== */
.inputs {
    display: grid;
    grid-template-columns: repeat(5, minmax(140px, 1fr));
    gap: 14px;
    align-items: end
}

label {
    font-size: 12px;
    color: var(--muted)
}

input {
    width: 100%;
    padding: 11px 12px;
    color: var(--ink);
    background: #0a1226;
    border: 1px solid var(--line);
    border-radius: 4px;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease, transform .06s ease;
}

input:hover {
    border-color: #2a3a63
}

input:focus {
    border-color: var(--focus);
    box-shadow: 0 0 0 3px rgba(34, 211, 238, .22)
}

/* Errores (sin viñetas, pegado a la izquierda) */
.bad {
    border-color: var(--error) !important;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, .28) !important
}

.error {
    color: #ffefef;
    background: linear-gradient(180deg, rgba(239, 68, 68, .10), rgba(239, 68, 68, .06));
    border: 1px solid rgba(239, 68, 68, .35);
    border-left: 4px solid var(--error);
    padding: 10px 12px;
    border-radius: 6px;
    display: block;
    margin-top: 8px;
}

.err-line {
    display: block;
    margin: 4px 0
}

/* << sin bullets */
.ok {
    color: var(--success)
}

.hint {
    font-size: 12px;
    color: var(--muted)
}

/* Botones */
.btns {
    display: flex;
    gap: 10px;
    flex-wrap: wrap
}

button {
    border: 1px solid var(--line);
    background: #0a0f1d;
    color: var(--ink);
    padding: 11px 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease, color .12s ease;
}

button.primary {
    background: linear-gradient(135deg, #ffffff, var(--accent));
    /* blanco elegante */
    color: #0b1020;
    border-color: #e6eaf0;
    font-weight: 600;
}

button:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 18px rgba(0, 0, 0, .28);
    border-color: var(--accent-2)
}

button.primary:hover {
    background: #ffffff;
    border-color: #ffffff
}

button:active {
    transform: translateY(0);
    box-shadow: none
}

/* ===== Resultados ===== */
.grid {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 16px
}

.table-wrap {
    height: 420px;
    overflow: auto;
    border: 1px solid var(--line);
    border-radius: var(--radius)
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px
}

thead th {
    position: sticky;
    top: 0;
    z-index: 1;
    background: #0d1733;
    color: #f3f6fb;
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid var(--line);
    font-weight: 600;
    letter-spacing: .2px;
}

tbody td {
    padding: 9px 12px;
    border-bottom: 1px dashed #1b2a4e;
    transition: background .15s ease, color .15s ease, box-shadow .15s ease
}

tbody tr {
    background: linear-gradient(180deg, #0a142c, transparent)
}

tbody tr:hover {
    background: #0e1c3f;
    box-shadow: inset 3px 0 0 0 var(--accent-2);
    /* acento azul cielo en hover */
}

tbody tr.repeat {
    background: linear-gradient(180deg, #11254a, #0f213f);
    color: #f4f9ff;
    box-shadow: inset 3px 0 0 0 var(--warn);
    /* acento azul para repetidos */
}

/* Scrollbar sutil */
.table-wrap::-webkit-scrollbar {
    width: 10px
}

.table-wrap::-webkit-scrollbar-track {
    background: #0b142e
}

.table-wrap::-webkit-scrollbar-thumb {
    background: #1f2f56;
    border-radius: 6px
}

.table-wrap::-webkit-scrollbar-thumb:hover {
    background: #29406c
}

/* ===== Canvas (gráfico) ===== */
canvas {
    width: 100%;
    height: 420px;
    display: block;
    background:
        radial-gradient(1100px 420px at 10% -20%, #0d1c3a 0%, #09142b 55%, #081026 100%);
    border: 1px solid var(--line);
    border-radius: var(--radius);
    transition: border-color .2s ease, box-shadow .2s ease;
    box-shadow: var(--shadow-soft);
}

canvas:hover {
    border-color: #23355e;
    box-shadow: var(--shadow)
}

/* ===== Responsive ===== */
@media (max-width:980px) {
    .grid {
        grid-template-columns: 1fr
    }

    .inputs {
        grid-template-columns: repeat(2, minmax(140px, 1fr))
    }
}

/* ===== Pruebas de validación (contenedor base) ===== */
.tests-summary {
    font-size: 13px;
    color: var(--muted);
    margin-top: 4px;
}

.tests-summary p {
    margin: 4px 0;
}

.tests-summary .pass {
    color: var(--success);
    font-weight: 600;
}

.tests-summary .fail {
    color: var(--error);
    font-weight: 600;
}

.tests-summary .global {
    margin-top: 8px;
    font-size: 14px;
}

/* Botones deshabilitados (por ejemplo, Regenerar al inicio) */
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
}

/* ===== Layout para las pruebas estadísticas (tarjetas) ===== */
.tests-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 12px;
    margin-top: 6px;
}

.test-block {
    padding: 10px 12px;
    border-radius: 6px;
    border: 1px solid var(--line);
    background: radial-gradient(600px 260px at 0% -40%, #151f3c 0%, #060b18 60%);
    box-shadow: 0 6px 14px rgba(0, 0, 0, .35);
    font-size: 13px;
    color: var(--muted);
    transition: border-color .15s ease, transform .15s ease, box-shadow .15s ease;
}

.test-block:hover {
    transform: translateY(-1px);
    border-color: var(--accent-2);
    box-shadow: var(--shadow);
}

.pass-block {
    border-left: 3px solid var(--success);
}

.fail-block {
    border-left: 3px solid var(--error);
}

.test-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
}

.test-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--ink);
}

.badge {
    padding: 2px 8px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 600;
    border: 1px solid transparent;
}

.badge-pass {
    border-color: rgba(34,197,94,.45);
    color: var(--success);
    background: rgba(34,197,94,.08);
}

.badge-fail {
    border-color: rgba(239,68,68,.55);
    color: var(--error);
    background: rgba(239,68,68,.10);
}

.test-text {
    margin: 2px 0 6px;
    font-size: 12px;
}

/* mensaje global ya usa .pass / .fail para el texto */
.tests-summary .global {
    margin-top: 10px;
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid var(--line);
    background: linear-gradient(180deg, #0b1325, #070b17);
}
